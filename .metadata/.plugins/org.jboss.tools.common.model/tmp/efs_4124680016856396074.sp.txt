<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>

        <!-- Place the first <script> tag in your HTML's <head> -->
        <link href="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.snow.css" rel="stylesheet" />


        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">



        <link
            href="https://fonts.googleapis.com/css2?family=Roboto&family=Open+Sans&family=Lato&family=Montserrat&family=Source+Sans+Pro&family=Raleway&family=Oswald&family=Ubuntu&family=Poppins&family=Merriweather&display=swap"
            rel="stylesheet">

        <style>
            .ql-font-roboto {
                font-family: 'Roboto', sans-serif;
            }

            .ql-font-open-sans {
                font-family: 'Open Sans', sans-serif;
            }

            .ql-font-lato {
                font-family: 'Lato', sans-serif;
            }

            .ql-font-montserrat {
                font-family: 'Montserrat', sans-serif;
            }

            .ql-font-source-sans-pro {
                font-family: 'Source Sans Pro', sans-serif;
            }

            .ql-font-raleway {
                font-family: 'Raleway', sans-serif;
            }

            .ql-font-oswald {
                font-family: 'Oswald', sans-serif;
            }

            .ql-font-ubuntu {
                font-family: 'Ubuntu', sans-serif;
            }

            .ql-font-poppins {
                font-family: 'Poppins', sans-serif;
            }

            .ql-font-merriweather {
                font-family: 'Merriweather', serif;
            }
        </style>

        <style type="text/tailwindcss">
            @theme {
        --color-clifford: #da373d;
      }
    </style>
        <style>
            .item-icon {
                padding: 3px;
                margin-left: 4px;
            }

            .icon {
                width: 20px;
                height: 20px;
                /* outline: green solid 1px; */
                cursor: pointer;
            }

            .item-icon:hover,
            .item-icon.active {
                background-color: #ccc9c9;
                border-radius: 4px;
            }

            .icon1 {
                background: url('https://ssl.gstatic.com/ui/v1/icons/mail/gm3/1x/format_color_text_baseline_nv700_20dp.png') no-repeat;
            }

            .icon2 {
                background: url('https://ssl.gstatic.com/ui/v1/icons/mail/gm3/1x/attach_file_baseline_nv700_20dp.png') no-repeat;
            }

            .icon3 {
                background: url('https://ssl.gstatic.com/ui/v1/icons/mail/gm3/1x/link_baseline_nv700_20dp.png') no-repeat;
            }

            .icon4 {
                background: url('https://ssl.gstatic.com/ui/v1/icons/mail/gm3/1x/mood_baseline_nv700_20dp.png') no-repeat;

            }

            .icon5 {
                background: url('https://ssl.gstatic.com/ui/v1/icons/mail/gm3/1x/drive_baseline_nv700_20dp.png') no-repeat;

            }

            .icon6 {
                background: url('https://ssl.gstatic.com/ui/v1/icons/mail/gm3/1x/image_baseline_nv700_20dp.png') no-repeat;

            }

            .icon7 {
                background: url('https://ssl.gstatic.com/ui/v1/icons/mail/gm3/1x/lock_clock_baseline_nv700_20dp.png') no-repeat;

            }

            .icon8 {
                background: url('https://ssl.gstatic.com/ui/v1/icons/mail/gm3/1x/ink_pen_baseline_nv700_20dp.png') no-repeat;

            }

            .icon9 {
                background: url('https://ssl.gstatic.com/ui/v1/icons/mail/gm3/1x/more_vert_baseline_nv700_20dp.png') no-repeat;

            }

            .trash {
                background: url('https://ssl.gstatic.com/ui/v1/icons/mail/gm3/1x/delete_baseline_nv700_20dp.png') no-repeat;
            }

            #mytoolbar {
                position: absolute;
                top: -44px;
                left: 0;
                height: 40px;
                background-color: white;
                display: none;
            }

            #mytoolbar.active {
                display: flex;
            }

            input:focus {
                outline: none;
            }

            .ql-editor {
                padding: 0;
            }
        </style>
    </head>

    <body>
        <div class="w-[600px] mx-auto my-10 border rounded shadow">
            <div class="!bg-blue-100 p-[-4px]">
                <h1 class="!text-[#041e49] !text-[16px] p-2">Thư mới</h1>
            </div>
            <form action="">
                <div class="p-3">
                    <div class="py-1 border-b-1 border-b-[#e9e9e9]"><input type="text" class="border-0  w-full"
                            placeholder="Người nhận"></div>
                    <div class="py-1 border-b-1 border-b-[#e9e9e9]"><input type="text" class="border-0 w-full"
                            placeholder="Tiêu đề">
                    </div>

                    <div name="" id="editor" class="resize-none !h-[200px] mt-2 !border-none !text-[16px]"></div>
                </div>
                <div class="flex items-center mt-4 p-3">
                    <button class="btn btn-primary !rounded-xl !px-[40px]">Gửi</button>
                    <div class="flex ml-[10px] relative">
                        <div id="mytoolbar" class="flex">
                            <select class="ql-font">
                                <option value="sans-serif" selected>Sans Serif</option>
                                <option value="serif">Serif</option>
                                <option value="monospace">Monospace</option>
                                <option value="roboto">Roboto</option>
                                <option value="open-sans">Open Sans</option>
                                <option value="lato">Lato</option>
                                <option value="montserrat">Montserrat</option>
                                <option value="source-sans-3">Source Sans 3</option>
                                <option value="raleway">Raleway</option>
                                <option value="oswald">Oswald</option>
                                <option value="ubuntu">Ubuntu</option>
                                <option value="poppins">Poppins</option>
                                <option value="merriweather">Merriweather</option>


                            </select>
                            <select class="ql-size"></select>

                            <!-- Bold, Italic, Underline -->
                            <button class="ql-bold"></button>
                            <button class="ql-italic"></button>
                            <button class="ql-underline"></button>

                            <!-- Danh sách -->
                            <button class="ql-list" value="ordered"></button>
                            <button class="ql-list" value="bullet"></button>

                            <!-- Link -->
                            <button class="ql-link"></button>
                        </div>

                        <div class="item-icon relative" onclick="handleClick(event)">
                            <div class="icon icon1"></div>
                        </div>
                        <div class="item-icon">
                            <div class="icon icon2"></div>
                        </div>
                        <div class="item-icon">
                            <div class="icon icon3"></div>
                        </div>
                        <div class="item-icon">
                            <div class="icon icon4"></div>
                        </div>
                        <div class="item-icon">
                            <div class="icon icon5"></div>
                        </div>
                        <div class="item-icon">
                            <div class="icon icon6"></div>
                        </div>
                        <div class="item-icon">

                            <div class="icon icon7"></div>
                        </div>
                        <div class="item-icon">
                            <div class="icon icon8"></div>
                        </div>
                        <div class="item-icon">
                            <div class="icon icon9"></div>
                        </div>
                    </div>

                    <div class="item-icon !ml-auto">
                        <div class="icon trash"></div>
                    </div>
                </div>
            </form>
        </div>
    </body>
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.3/dist/quill.js"></script>
    <script>
        const FontAttributor = Quill.import('attributors/class/font');
        FontAttributor.whitelist = [
            'roboto', 'open-sans', 'lato', 'montserrat', 'source-sans-3',
            'raleway', 'oswald', 'ubuntu', 'poppins', 'merriweather',
            // giữ luôn mặc định để dropdown gốc hoạt động
            'sans-serif', 'serif', 'monospace'

        ];
        Quill.register(FontAttributor, true);

        const quill = new Quill('#editor', {
            theme: 'snow',
            modules: { toolbar: '#mytoolbar' }
        });

        function handleClick(e) {
            console.log(e.target);
            var parent = e.target.closest('.item-icon')


            const toolbar = document.getElementById('mytoolbar');
            toolbar.classList.toggle('active');
            parent.classList.toggle('active')
        }

    </script>

    </html>